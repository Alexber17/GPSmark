{"ast":null,"code":"var _jsxFileName = \"/Users/alexanderbermudez/Desktop/project/Project5/gpsmark/src/components/Map.js\";\n\n/*global google*/\nimport React, { Component } from \"react\";\nimport { withGoogleMap, withScriptjs, GoogleMap, DirectionsRenderer } from \"react-google-maps\";\nimport Geocode from \"react-geocode\";\nimport DirectionInstructions from './Instructions.js'; // Geocode.setApiKey(\"AIzaSyCTIuglr0yoyg7N3YinUj0xEeKmQCA8VT0\");\n\nGeocode.setLanguage(\"en\");\nGeocode.enableDebug();\nGeocode.fromAddress(\"Eiffel Tower\").then(response => {\n  const {\n    lat,\n    lng\n  } = response.results[0].geometry.location;\n  console.log(lat, lng);\n}, error => {\n  console.error(error);\n});\n\nclass Map extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      directions: [],\n      directionsLocal: [],\n      lat: 0,\n      lng: 0\n    };\n\n    this.displayLocationInfo = position => {\n      let lng2 = position.coords.longitude;\n      let lat2 = position.coords.latitude;\n      console.log(`longitude: ${lat2} | latitude: ${lng2}`);\n      this.setState({\n        lat: lat2,\n        lng: lng2\n      });\n      console.log('disply' + this.state.lat);\n      this.loadMap();\n    };\n\n    this.getpositon = () => {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(this.displayLocationInfo);\n      }\n    };\n\n    this.loadMap = () => {\n      let origin = {\n        lat: this.state.lat,\n        lng: this.state.lng\n      };\n      let destination = {\n        lat: 41.756795,\n        lng: -78.954298\n      };\n      const directionsService = new google.maps.DirectionsService();\n      directionsService.route({\n        origin: origin,\n        destination: destination,\n        travelMode: google.maps.TravelMode.DRIVING\n      }, (result, status) => {\n        if (status === google.maps.DirectionsStatus.OK) {\n          this.setState({\n            directions: result\n          });\n        } else {\n          console.error(`error fetching directions ${result}`);\n        }\n      });\n    };\n\n    this.componentDidMount = async () => {\n      this.getpositon();\n      console.log('component' + this.state.lat);\n    };\n  }\n\n  render() {\n    const GoogleMapExample = withGoogleMap(props => /*#__PURE__*/React.createElement(GoogleMap, {\n      defaultCenter: {\n        lat: 40.756795,\n        lng: -73.954298\n      },\n      defaultZoom: 13,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(DirectionsRenderer, {\n      directions: this.state.directions,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }\n    }))); // console.log(this.state.directions)\n    // if(this.state.directions.routes ){\n    //     console.log('routes ',this.state.directions.routes[0].legs[0].steps[0].instructions)\n    // }\n    // {console.log(this.state.directions.routes)}\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(GoogleMapExample, {\n      containerElement: /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          height: `500px`,\n          width: \"500px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 54\n        }\n      }),\n      mapElement: /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          height: `100%`\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 23\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 8\n      }\n    }, this.state.directions.routes ? this.state.directions.routes[0].legs[0].steps.map(elemen => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 102\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"p\", {\n      dangerouslySetInnerHTML: {\n        __html: elemen.instructions\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 108\n      }\n    }), \" \")) : ''));\n  }\n\n}\n\nexport default Map;","map":{"version":3,"sources":["/Users/alexanderbermudez/Desktop/project/Project5/gpsmark/src/components/Map.js"],"names":["React","Component","withGoogleMap","withScriptjs","GoogleMap","DirectionsRenderer","Geocode","DirectionInstructions","setLanguage","enableDebug","fromAddress","then","response","lat","lng","results","geometry","location","console","log","error","Map","state","directions","directionsLocal","displayLocationInfo","position","lng2","coords","longitude","lat2","latitude","setState","loadMap","getpositon","navigator","geolocation","getCurrentPosition","origin","destination","directionsService","google","maps","DirectionsService","route","travelMode","TravelMode","DRIVING","result","status","DirectionsStatus","OK","componentDidMount","render","GoogleMapExample","props","height","width","routes","legs","steps","map","elemen","__html","instructions"],"mappings":"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","sourcesContent":["/*global google*/\nimport React, { Component } from \"react\";\nimport {\n  withGoogleMap,\n  withScriptjs,\n  GoogleMap,\n  DirectionsRenderer\n} from \"react-google-maps\";\nimport Geocode from \"react-geocode\";\nimport DirectionInstructions from './Instructions.js'\n\n// Geocode.setApiKey(\"AIzaSyCTIuglr0yoyg7N3YinUj0xEeKmQCA8VT0\");\nGeocode.setLanguage(\"en\");\nGeocode.enableDebug();\n\nGeocode.fromAddress(\"Eiffel Tower\").then(\n  response => {\n    const { lat, lng } = response.results[0].geometry.location;\n    console.log(lat, lng);\n  },\n  error => {\n    console.error(error);\n  }\n);\n\nclass Map extends Component {\n  state = {\n    directions: [],\n    directionsLocal: [],\n    lat:0,\n    lng:0\n  };\n\n   \n     displayLocationInfo=(position)=>{\n        let lng2 = position.coords.longitude;\n        let lat2 = position.coords.latitude;\n        console.log(`longitude: ${ lat2 } | latitude: ${ lng2 }`);\n       this.setState({\n        lat: lat2,\n        lng:lng2\n       })\n       console.log('disply'+this.state.lat)\n       this.loadMap()\n     }\n    \n\n\n  getpositon=()=>{\n \n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(this.displayLocationInfo);\n      \n    }\n\n\n\n  }\n\n  loadMap=()=>{\n\n    let origin = { lat: this.state.lat, lng: this.state.lng };\n    let destination = { lat: 41.756795, lng: -78.954298 };\n    const directionsService =  new google.maps.DirectionsService();\n    directionsService.route(\n      {\n        origin: origin,\n        destination: destination,\n        travelMode: google.maps.TravelMode.DRIVING\n      },\n      (result, status) => {\n        if (status === google.maps.DirectionsStatus.OK) {\n          this.setState({\n            directions: result\n\n          });\n        } else {\n          console.error(`error fetching directions ${result}`);\n        }\n      }\n    );\n  }\n\n  componentDidMount = async ()=> {\n    this.getpositon();\n\n    console.log('component'+this.state.lat)\n    \n\n  }\n\n  render() {\n    const GoogleMapExample = withGoogleMap(props => (\n      <GoogleMap\n        defaultCenter={{ lat: 40.756795, lng: -73.954298 }}\n        defaultZoom={13}\n      > \n        <DirectionsRenderer directions={this.state.directions}/>\n       \n      </GoogleMap>\n    ));\n    // console.log(this.state.directions)\n\n    // if(this.state.directions.routes ){\n       \n\n    //     console.log('routes ',this.state.directions.routes[0].legs[0].steps[0].instructions)\n        \n    // }\n    \n    // {console.log(this.state.directions.routes)}\n    return (\n      <div>\n             \n\n        \n\n        <GoogleMapExample          containerElement={<div style={{ height: `500px`, width: \"500px\" }} />}\n          mapElement={<div style={{ height: `100%` }} />}\n        />\n       <div>\n       {this.state.directions.routes ? this.state.directions.routes[0].legs[0].steps.map((elemen)=> (<div> <p dangerouslySetInnerHTML={{ __html: elemen.instructions }}/> </div>)) :''}\n       </div>\n         \n      </div>\n    );\n  }\n}\n\nexport default Map;\n"]},"metadata":{},"sourceType":"module"}